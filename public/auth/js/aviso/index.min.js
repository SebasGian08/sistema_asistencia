$((function(){const $table=$("#tableAviso"),$empresa_filter_id=$("#empresa_filter_id"),$dataTableAviso=$table.DataTable({stripeClasses:["odd-row","even-row"],lengthChange:!0,lengthMenu:[[50,100,200,500,-1],[50,100,200,500,"Todo"]],info:!1,ajax:{url:"/auth/aviso/list_all",data:function(s){""!=$empresa_filter_id.val()&&(s.empresa_filter_id=$empresa_filter_id.val())}},columns:[{title:"ID",data:"id",className:"text-center"},{title:"Fecha de Registro",data:"created_at",render:function(data){return null!=data?moment(data).format("DD-MM-YYYY"):"-"}},{title:"Empresa",data:"empresas.razon_social"},{title:"Titulo",data:"titulo"},{title:"Modalidad",data:"modalidades.nombre",class:""},{title:"Horario",data:"horarios.nombre",class:""},{title:"Distrito",data:"distritos.nombre",render:function(data){return data||"-"}},{title:"Salario",data:"salario"},{data:null,defaultContent:"<button type='button' class='btn btn-secondary btn-xs btn-update' data-toggle='tooltip' title='Ver Postulantes'><i class='fa fa-users'></i></button>",orderable:!1,searchable:!1,width:"26px"},{data:null,defaultContent:"<button type='button' class='btn btn-danger btn-xs btn-delete' data-toggle='tooltip' title='Eliminar'><i class='fa fa-trash'></i></button>",orderable:!1,searchable:!1,width:"26px"}]});function invocarModalView(id){invocarModal(`/auth/aviso/partialViewPostulante/${id||0}`,(function($modal){"true"===$modal.attr("data-reload")&&$dataTableAviso.ajax.reload(null,!1)}))}$empresa_filter_id.on("change",(function(){$dataTableAviso.ajax.reload()})),$table.on("click",".btn-update",(function(){const id=$dataTableAviso.row($(this).parents("tr")).data().id;invocarModalView(id)})),$table.on("click",".btn-delete",(function(){const id=$dataTableAviso.row($(this).parents("tr")).data().id,formData=new FormData;formData.append("_token",$("input[name=_token]").val()),formData.append("id",id),confirmAjax("/auth/aviso/delete",formData,"POST",null,null,(function(){$dataTableAviso.ajax.reload(null,!1)}))}))}));